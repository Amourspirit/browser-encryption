!function (n) { if ("object" == typeof exports && "undefined" != typeof module) module.exports = n(); else if ("function" == typeof define && define.amd) define([], n); else { ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).stringBreaker = n() } }((function () { return function n(t, r, e) { function o(u, f) { if (!r[u]) { if (!t[u]) { var a = "function" == typeof require && require; if (!f && a) return a(u, !0); if (i) return i(u, !0); var l = new Error("Cannot find module '" + u + "'"); throw l.code = "MODULE_NOT_FOUND", l } var d = r[u] = { exports: {} }; t[u][0].call(d.exports, (function (n) { return o(t[u][1][n] || n) }), d, d.exports, n, t, r, e) } return r[u].exports } for (var i = "function" == typeof require && require, u = 0; u < e.length; u++)o(e[u]); return o }({ 1: [function (n, t, r) { "use strict"; var e = this && this.__assign || function () { return (e = Object.assign || function (n) { for (var t, r = 1, e = arguments.length; r < e; r++)for (var o in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, o) && (n[o] = t[o]); return n }).apply(this, arguments) }; r.__esModule = !0, r.stringBreaker = r.widthFlags = r.lnEndOpt = r.splitByOpt = void 0; var o, i, u, f = n("utf16-char-codes"); !function (n) { n[n.width = 0] = "width", n[n.word = 1] = "word", n[n.line = 2] = "line" }(o = r.splitByOpt || (r.splitByOpt = {})), function (n) { n[n.none = 0] = "none", n[n.noLnBr = 1] = "noLnBr", n[n.encode = 2] = "encode" }(i = r.lnEndOpt || (r.lnEndOpt = {})), function (n) { n[n.none = 0] = "none", n[n.fullwidth = 1] = "fullwidth", n[n.surrogatePair = 2] = "surrogatePair", n[n.nearestWord = 4] = "nearestWord" }(u = r.widthFlags || (r.widthFlags = {})), r.stringBreaker = function (n, t) { if ("string" != typeof n) throw new TypeError("stringBreaker: str parmeter must be of type string"); var r, e = a({ width: 80, lnEnd: i.noLnBr, noExSp: !1, noBOM: !0, lenOpt: u.none, splitOpt: o.width }, t); if (e.splitOpt === o.width) switch (e.lnEnd) { case i.encode: n = O(n); break; case i.noLnBr: n = h(n) }switch (!0 === e.noExSp && (n = w(n)), e.splitOpt) { case o.word: case o.line: r = l(n, e); break; default: r = d(n, e) }return r }; var a = function (n, t) { return null == t || "function" == typeof t ? n : ("number" == typeof t && ((n = e({}, n)).width = t, t = n), void 0 === t.width && (t.width = 80), void 0 === t.lnEnd && (t.lnEnd = i.noLnBr), void 0 === t.noExSp && (t.noExSp = !1), void 0 === t.noBOM && (t.noBOM = !0), void 0 === t.lenOpt && (t.lenOpt = u.none), void 0 === t.splitOpt && (t.splitOpt = o.width), t) }, l = function (n, t) { var r = []; if (0 === n.length) return r; var e = !1; if (!0 === t.noBOM && (e = !0), !0 === e) { var i = Number(n.codePointAt(0)); if (!0 === m(i) && 0 === (n = n.substr(1)).length) return r } if (n = v(n), t.splitOpt === o.word) { if (0 === (n = (n = g(n)).trim()).length) return r; r = n.split(" ") } else { if (0 === n.length) return r; r = n.split(/\n/) } return r }, d = function (n, t) { var r = Math.round(Number(t.width)); if (r < 1) throw new RangeError("stringBreaker: Width must be greater than zero"); var e = [], o = [], i = !1, a = !1, l = !1, d = !1; if (void 0 !== t.lenOpt) { if (t.lenOpt < u.none || t.lenOpt > 7) throw new RangeError("stringBreaker: widthflags enum out of range. Expected value to be from " + u.none + " to 7"); (t.lenOpt & u.fullwidth) === u.fullwidth && (a = !0), (t.lenOpt & u.surrogatePair) === u.surrogatePair && (l = !0), (t.lenOpt & u.nearestWord) === u.nearestWord && (d = !0) } !0 === t.noBOM && (i = !0); for (var h = 0, g = 0; g < n.length; g++) { var v = n.codePointAt(g); if (void 0 === v) throw new Error("stringBreaker Error: No code point exist in first parameter str at postion " + g); var w = Number(v), O = String.fromCodePoint(w); if (0 === g) if (!0 === i) { if (!0 === m(w)) continue } else if (!0 === m(w)) { o.push(O); continue } if (!0 === y(w) && g++, !0 !== d || 0 !== o.length || !0 !== s(w) || !1 !== p(w)) { if (h++, !0 === a && !0 === f.codePointFullWidth(w) && h++, !0 === l && !0 === y(w) && h++, !0 === d) { if (!1 === s(w)) { o.push(O); continue } if (!0 === c(w)) { o.push(O); continue } !0 === p(w) ? o.push(O) : h < r && o.push(O) } else o.push(O); h >= r && (e.push(o.join("")), o = [], h = 0) } } return o.length > 0 && (e.push(o.join("")), o = []), e }, s = function (n) { return -1 !== [133, 8233].indexOf(n) || (n >= 9 && n <= 13 || !0 === function (n) { return -1 !== [32, 160, 5760, 8239, 8287, 12288].indexOf(n) || n >= 8192 && n <= 8202 }(n)) }, c = function (n) { return 160 === n || 8239 === n }, p = function (n) { return 5760 === n }, h = function (n) { return 0 === n.length ? "" : n.replace(/(\r\n|\n|\r)/gm, "") }, g = function (n) { return 0 === n.length ? "" : n.replace(/\s+/gm, " ") }, v = function (n) { return 0 === n.length ? "" : n.replace(/(\r\n|\r)/gm, "\n") }, w = function (n) { return 0 === n.length ? "" : n.replace(/\x20\x20+/g, " ") }, O = function (n) { return n.replace(/(\r\n|\n|\r)/gm, "\\n") }, y = function (n) { return n >= 65536 }, m = function (n) { return 65279 === n || 65534 === n || 15711167 === n || 185479870509 === n || 724530744 === n || 724530745 === n || 724530726 === n } }, { "utf16-char-codes": 2 }], 2: [function (n, t, r) { "use strict"; var e = this && this.__assign || function () { return (e = Object.assign || function (n) { for (var t, r = 1, e = arguments.length; r < e; r++)for (var o in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, o) && (n[o] = t[o]); return n }).apply(this, arguments) }; r.__esModule = !0, r.fromCodePoint = r.codePointFullWidth = r.codePoints = r.codePointAt = void 0, r.codePointAt = function (n, t) { if (void 0 === t && (t = 0), null == n) throw TypeError(); var r = (n = String(n)).length, e = t ? Number(t) : 0; if (Number.isNaN(e) && (e = 0), !(e < 0 || e >= r)) { var o = n.charCodeAt(e); if (o >= 55296 && o <= 56319 && r > e + 1) { var i = n.charCodeAt(e + 1); if (i >= 56320 && i <= 57343) return 1024 * (o - 55296) + i - 56320 + 65536 } return o } }, r.codePoints = function (n, t) { if (t = o({ unique: !1 }, t), "string" != typeof n) throw new TypeError("Argument str must be type of string."); for (var e, i = [], u = 0; u < n.length;) { e = n.charAt(u) + n.charAt(u + 1); var f = Number(r.codePointAt(e)); if (Number.isNaN(f)) throw new Error("An error occured getting code points. Unable to get code point at positions: " + u + " and " + (u + 1)); u += f > 65535 ? 2 : 1, t.unique && -1 !== i.indexOf(f) || i.push(f) } return i }; var o = function (n, t) { return null == t || "function" == typeof t ? n : ("boolean" == typeof t && ((n = e({}, n)).unique = t, t = n), void 0 === t.unique && (t.unique = !1), t) }; r.codePointFullWidth = function (n) { return !Number.isNaN(n) && (n >= 4352 && (n <= 4447 || 9001 === n || 9002 === n || 11904 <= n && n <= 12871 && 12351 !== n || 12880 <= n && n <= 19903 || 19968 <= n && n <= 42182 || 43360 <= n && n <= 43388 || 44032 <= n && n <= 55203 || 63744 <= n && n <= 64255 || 65040 <= n && n <= 65049 || 65072 <= n && n <= 65131 || 65281 <= n && n <= 65376 || 65504 <= n && n <= 65510 || 110592 <= n && n <= 110593 || 127488 <= n && n <= 127569 || 131072 <= n && n <= 262141)) }, r.fromCodePoint = function () { for (var n = [], t = 0; t < arguments.length; t++)n[t] = arguments[t]; for (var r = [], e = 0, o = "", i = 0, u = n.length; i !== u; ++i) { var f = +n[i]; if (!(f < 1114111 && f >>> 0 === f)) throw new RangeError("Invalid code point: " + f); f <= 65535 ? e = r.push(f) : (f -= 65536, e = r.push(55296 + (f >> 10), f % 1024 + 56320)), e >= 16383 && (o += String.fromCharCode.apply(null, r), r.length = 0) } return o + String.fromCharCode.apply(null, r) }, function () { if (!String.prototype.codePointAt) { var n = function () { try { var n = {}, t = Object.defineProperty, r = t(n, n, n) && t } catch (n) { } return r }(), t = function (n) { if (null == this) throw TypeError(); var t = String(this); return r.codePointAt(t, n) }; n ? n(String.prototype, "codePointAt", { value: t, configurable: !0, writable: !0 }) : String.prototype.codePointAt = t } }(), function () { if (!String.fromCodePoint) { var n = function () { try { var n = {}, t = Object.defineProperty, r = t(n, n, n) && t } catch (n) { } return r }(); n ? n(String, "fromCodePoint", { value: r.fromCodePoint, configurable: !0, writable: !0 }) : String.fromCodePoint = r.fromCodePoint } }() }, {}] }, {}, [1])(1) }));